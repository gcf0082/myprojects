<!DOCTYPE html>

<html lang="en">

<head>

    <meta charset="UTF-8">

    <title>Dynamic File Tree</title>

    <style>

        /* ä¿æŒä¹‹å‰çš„æ ·å¼ä¸å˜ */

        .file-tree { font-family: Consolas, monospace; font-size: 14px; color: #cccccc; background-color: #252526; padding: 10px; user-select: none; }

        .tree-list { list-style: none; padding-left: 20px; margin: 0; }

        .tree-item { padding: 2px 0; cursor: pointer; white-space: nowrap; }

        .tree-item:hover { background-color: #2a2d2e; }

        .tree-item.selected { background-color: #37373d; }

        .folder::before { content: 'â–¶'; font-size: 10px; margin-right: 5px; color: #858585; }

        .folder.expanded::before { content: 'â–¼'; }

        .file::before { content: 'ğŸ“„'; margin-right: 5px; }

        .hidden { display: none; }

    </style>

</head>

<body>

    <div class="file-tree" id="fileTreeContainer"></div>



<script>

// æ¨¡æ‹Ÿçš„æ–‡ä»¶æ ‘æ•°æ®

const fileTreeData = [

    {

        name: "src",

        type: "folder",

        children: [

            {

                name: "components",

                type: "folder",

                children: [

                    { name: "Button.js", type: "file" },

                    { name: "Header.js", type: "file" }

                ]

            },

            { name: "index.js", type: "file" },

            { name: "utils.js", type: "file" }

        ]

    },

    {

        name: "public",

        type: "folder",

        children: [

            { name: "index.html", type: "file" },

            { name: "style.css", type: "file" }

        ]

    },

    { name: "package.json", type: "file" }

];



// é€’å½’ç”Ÿæˆæ ‘èŠ‚ç‚¹

function createTreeItem(itemData) {

    const li = document.createElement('li');

    li.className = `tree-item ${itemData.type}`;

    li.textContent = itemData.name;

    

    if (itemData.type === 'folder') {

        const ul = document.createElement('ul');

        ul.className = 'tree-list hidden';

        

        if (itemData.children) {

            itemData.children.forEach(child => {

                ul.appendChild(createTreeItem(child));

            });

        }

        

        li.appendChild(ul);

    }

    

    return li;

}



// åˆå§‹åŒ–æ–‡ä»¶æ ‘

function initFileTree(containerId, data) {

    const container = document.getElementById(containerId);

    const rootUl = document.createElement('ul');

    rootUl.className = 'tree-list';

    

    data.forEach(item => {

        rootUl.appendChild(createTreeItem(item));

    });

    

    container.appendChild(rootUl);

}



// äº‹ä»¶ä»£ç†å¤„ç†ç‚¹å‡»

document.getElementById('fileTreeContainer').addEventListener('click', (e) => {

    const target = e.target.closest('.tree-item');

    if (!target) return;



    // å¤„ç†æ–‡ä»¶å¤¹å±•å¼€/æ”¶èµ·

    if (target.classList.contains('folder')) {

        const ul = target.querySelector('ul');

        if (ul) {

            ul.classList.toggle('hidden');

            target.classList.toggle('expanded');

        }

    }



    // å¤„ç†é€‰ä¸­çŠ¶æ€

    document.querySelectorAll('.tree-item').forEach(item => {

        item.classList.remove('selected');

    });

    target.classList.add('selected');

});



// åˆå§‹åŒ–æ–‡ä»¶æ ‘

initFileTree('fileTreeContainer', fileTreeData);



/* æ“ä½œç¤ºä¾‹ï¼š

// åŠ¨æ€æ·»åŠ èŠ‚ç‚¹ç¤ºä¾‹ï¼ˆAPIç¤ºä¾‹ï¼‰

function addNewItem(parentElement, itemData) {

    const newItem = createTreeItem(itemData);

    parentElement.querySelector('ul').appendChild(newItem);

}



// ä¿®æ”¹æ•°æ®åçš„åˆ·æ–°æ–¹æ³•ï¼ˆéœ€è¦æ ¹æ®å…·ä½“éœ€æ±‚å®ç°ï¼‰

function refreshFileTree() {

    // å…ˆæ¸…ç©ºå®¹å™¨å†é‡æ–°ç”Ÿæˆ

    const container = document.getElementById('fileTreeContainer');

    container.innerHTML = '';

    initFileTree('fileTreeContainer', fileTreeData);

}

*/

</script>

</body>

</html>
